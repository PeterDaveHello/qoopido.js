/*!
* Qoopido.js library v3.4.4, 2014-6-15
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*//*!
* Qoopido.js library
*
* version: 3.4.4
* date:    2014-6-15
* author:  Dirk Lueth <info@qoopido.com>
* website: https://github.com/dlueth/qoopido.js
*
* Copyright (c) 2014 Dirk Lueth
*
* Dual licensed under the MIT and GPL licenses.
* - http://www.opensource.org/licenses/mit-license.php
* - http://www.gnu.org/copyleft/gpl.html
*/
!function(e,t){t.register?t.register("polyfill/object/defineproperty",e):(t.modules=t.modules||{})["polyfill/object/defineproperty"]=e()}(function(){"use strict";if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty,t=Object.prototype.__defineGetter__,n=Object.prototype.__defineSetter__;Object.defineProperty=function(r,o,i){if(e)try{return e(r,o,i)}catch(c){}if(r!==Object(r))throw new TypeError("Object.defineProperty called on non-object");return t&&"get"in i&&t.call(r,o,i.get),n&&"set"in i&&n.call(r,o,i.set),"value"in i&&(r[o]=i.value),r}}return Object.defineProperty},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||n.push("./defineproperty"),t.register("polyfill/object/defineproperties",e,n)}else(t.modules=t.modules||{})["polyfill/object/defineproperties"]=e()}(function(){"use strict";return Object.defineProperties||(Object.defineProperties=function(e,t){if(e!==Object(e))throw new TypeError("Object.defineProperties called on non-object");var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.defineProperties},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperties||n.push("./defineproperties"),t.register("polyfill/object/create",e,n)}else(t.modules=t.modules||{})["polyfill/object/create"]=e()}(function(){"use strict";return Object.create||(Object.create=function(e,t){function n(){}if("object"!=typeof e)throw new TypeError;n.prototype=e;var r=new n;if(e&&(r.constructor=n),arguments.length>1){if(t!==Object(t))throw new TypeError;Object.defineProperties(r,t)}return r}),Object.create},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertynames",e):(t.modules=t.modules||{})["polyfill/object/getownpropertynames"]=e()}(function(){"use strict";return Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Object.getOwnPropertyNames},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertydescriptor",e):(t.modules=t.modules||{})["polyfill/object/getownpropertydescriptor"]=e()}(function(){"use strict";if(!Object.getOwnPropertyDescriptor||!function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()){var e=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(t,n){if(t!==Object(t))throw new TypeError;try{return e.call(Object,t,n)}catch(r){}return Object.prototype.hasOwnProperty.call(t,n)?{value:t[n],enumerable:!0,writable:!0,configurable:!0}:void 0}}return Object.getOwnPropertyDescriptor},window.qoopido=window.qoopido||{}),function(e,t,n,r,o,i){"use strict";function c(e){for(var t;(t=e.replace(f,""))!==e;)e=t;return e.replace(m,"")}var s,a,l=t.shared=t.shared||{},p=t.modules=t.modules||{},u=[],d=new RegExp("^\\.+\\/"),f=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),m=new RegExp("(^\\/)|\\.\\/","g");s=t.register=function(e,t,s,a){var u,f=e.split("/");return p[e]?p[e]:(u=function(){if(s){var u,m,h,y=f.slice(0,-1).join("/");for(u=0;(m=s[u])!==i;u++)h=d.test(m),h&&(m=c(y+"/"+m)),!p[m]&&arguments[u]&&(p[m]=arguments[u]),h&&!p[m]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",m))}return p[e]=t(p,l,f,n,r,o,i),a&&a(p[e]),p[e]},void("undefined"!=typeof module&&module.exports?module.exports=define(u):"function"==typeof define&&define.amd?s?define(s,u):define(u):u()))},a=t.registerSingleton=function(e,t,n){s(e,t,n,function(t){p[e]=t.create()})},Object.create||u.push("./polyfill/object/create"),Object.getOwnPropertyNames||u.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||u.push("./polyfill/object/getownpropertydescriptor"),s("base",e,u)}(function(e,t,n,r,o,i,c){"use strict";function s(e){var t,n,r={},o=Object.getOwnPropertyNames(e);for(t=0;(n=o[t])!==c;t++)r[n]=Object.getOwnPropertyDescriptor(e,n);return r}function a(){"undefined"!=typeof console&&console.error("[Qoopido.js] Operation prohibited on an actual instance")}return{create:function(){var e,t=Object.create(this,s(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=a,e||t},extend:function(e){return e=e||{},e._parent=this,Object.create(this,s(e))}}},window.qoopido=window.qoopido||{},navigator,window,document),function(e){window.qoopido.register("emitter",e,["./base"])}(function(e,t,n,r,o,i,c){"use strict";function s(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);return e._mapped[t]=e[t],function(){var r,o=Array.prototype.slice.call(arguments);return e.emit.apply(e,["pre"+n,o]),r=e._mapped[t].apply(e,o),e.emit.apply(e,["post"+n,o,r]),r}}var a=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.base.extend({_mapped:null,_listener:null,_temp:null,_constructor:function(){var e,t=this;t._mapped={},t._listener={};for(e in t)"function"==typeof t[e]&&a.test(e)===!1&&(t[e]=s(t,e))},on:function(e,t){var n,r,o=this;for(e=e.split(" "),n=0;(r=e[n])!==c;n++)(o._listener[r]=o._listener[r]||[]).push(t);return o},one:function(e,t,n){n=n!==!1;var r=this;return r.on(e,function o(i){r.off(n===!0?i:e,o),t.apply(this,arguments)}),r},off:function(e,t){var n,r,o,i,s=this;if(e)for(e=e.split(" "),n=0;(r=e[n])!==c;n++)if(s._listener[r]=s._listener[r]||[],t)for(o=0;(i=s._listener[r][o])!==c;o++)i===t&&(s._listener[r].splice(o,1),o--);else s._listener[r].length=0;else for(r in s._listener)s._listener[r].length=0;return s},emit:function(e){var t,n,r=this;if(e!==c){for(r._listener[e]=r._listener[e]||[],r._temp=r._listener[e].slice(),t=0;(n=r._temp[t])!==c;t++)n.apply(r,arguments);r._temp.length=0}return r}})}),function(e){window.qoopido.register("polyfill/window/matchmedia",e)}(function(e,t,n,r,o,i){"use strict";if(!o.matchMedia){var c=i,s=c.documentElement,a=[],l=0,p="",u={},d=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,f=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,m=0,h=function(e){var t=-1!==e.indexOf(",")&&e.split(",")||[e],n=t.length-1,r=n,o=null,i=null,c="",s=0,a=!1,l="",m="",h=null,y=0,w=0,g=null,b="",j="",O="",v="",x="",_=!1;if(""===e)return!0;do if(o=t[r-n],a=!1,i=o.match(d),i&&(c=i[0],s=i.index),!i||-1===o.substring(0,s).indexOf("(")&&(s||!i[3]&&c!==i.input))_=!1;else{if(m=o,a="not"===i[1],s||(l=i[2],m=o.substring(c.length)),_=l===p||"all"===l||""===l,h=-1!==m.indexOf(" and ")&&m.split(" and ")||[m],y=h.length-1,w=y,_&&y>=0&&""!==m)do{if(g=h[y].match(f),!g||!u[g[3]]){_=!1;break}if(b=g[2],j=g[5],v=j,O=g[7],x=u[g[3]],O&&(v="px"===O?Number(j):"em"===O||"rem"===O?16*j:g[8]?(j/g[8]).toFixed(2):"dppx"===O?96*j:"dpcm"===O?.3937*j:Number(j)),_="min-"===b&&v?x>=v:"max-"===b&&v?v>=x:v?x===v:!!x,!_)break}while(y--);if(_)break}while(n--);return a?!_:_},y=function(){var e=o.innerWidth||s.clientWidth,t=o.innerHeight||s.clientHeight,n=o.screen.width,r=o.screen.height,i=o.screen.colorDepth,c=o.devicePixelRatio;u.width=e,u.height=t,u["aspect-ratio"]=(e/t).toFixed(2),u["device-width"]=n,u["device-height"]=r,u["device-aspect-ratio"]=(n/r).toFixed(2),u.color=i,u["color-index"]=Math.pow(2,i),u.orientation=t>=e?"portrait":"landscape",u.resolution=c&&96*c||o.screen.deviceXDPI||96,u["device-pixel-ratio"]=c||1},w=function(){clearTimeout(m),m=setTimeout(function(){var e=null,t=l-1,n=t,r=!1;if(t>=0){y();do if(e=a[n-t],e&&(r=h(e.mql.media),(r&&!e.mql.matches||!r&&e.mql.matches)&&(e.mql.matches=r,e.listeners)))for(var i=0,c=e.listeners.length;c>i;i++)e.listeners[i]&&e.listeners[i].call(o,e.mql);while(t--)}},10)},g=function(){var e=c.getElementsByTagName("head")[0],t=c.createElement("style"),n=null,r=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],i=0,s=r.length,a="#mediamatchjs { position: relative; z-index: 0; }",l="",u=o.addEventListener||(l="on")&&o.attachEvent;for(t.type="text/css",t.id="mediamatchjs",e.appendChild(t),n=o.getComputedStyle&&o.getComputedStyle(t)||t.currentStyle;s>i;i++)a+="@media "+r[i]+" { #mediamatchjs { position: relative; z-index: "+i+" } }";t.styleSheet?t.styleSheet.cssText=a:t.textContent=a,p=r[1*n.zIndex||0],e.removeChild(t),y(),u(l+"resize",w),u(l+"orientationchange",w)};g(),o.matchMedia=function(e){var t=l,n={matches:!1,media:e,addListener:function(e){a[t].listeners||(a[t].listeners=[]),e&&a[t].listeners.push(e)},removeListener:function(e){var n=a[t],r=0,o=0;if(n)for(o=n.listeners.length;o>r;r++)n.listeners[r]===e&&n.listeners.splice(r,1)}};return""===e?(n.matches=!0,n):(n.matches=h(e),l=a.push({mql:n,listeners:null}),n)}}return o.matchMedia}),function(e){var t=["../emitter"];window.matchMedia||t.push("../polyfill/window/matchmedia"),window.qoopido.registerSingleton("component/remux",e,t)}(function(e,t,n,r,o,i){"use strict";function c(e,t){var n=this;return e&&t&&(l.className=e,l.style.fontSize=t+"px",u.layout=e,u.fontsize=t,(d.fontsize!==u.fontsize||d.layout!==u.layout)&&(u.ratio.device=o.devicePixelRatio||1,u.ratio.fontsize=u.fontsize/p,u.ratio.total=u.ratio.device*u.ratio.fontsize,d.layout!==u.layout&&n.emit("layoutchanged",u),d.fontsize!==u.fontsize&&n.emit("fontsizechanged",u),n.emit("statechanged",u),d.fontsize=u.fontsize,d.layout=u.layout)),n}function s(e,t,n,r,i){var s=this,a=o.matchMedia(e);a.layout=t,a.fontsize=n,a.min=r,a.max=i,f.push(a),a.addListener(function(e){e.matches===!0&&c.call(s,e.layout,e.fontsize)})}var a,l=i.getElementsByTagName("html")[0],p=16,u={fontsize:null,layout:null,ratio:{}},d={fontsize:null,layout:null},f=[];return a=e.emitter.extend({_constructor:function(){var e=this,t=parseInt(l.getAttribute("data-base"),10);a._parent._constructor.call(e),isNaN(t)===!1&&(p=t)},getState:function(){return u},getLayout:function(){return u.layout},getFontsize:function(){return u.fontsize},setLayout:function(e,t){var n=this;return c.call(n,e,t),n},addLayout:function(e,t){var n,r,o,i,a,l,u,d,m,h,y=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(r in n)for(o=n[r],i=o.min;i<=o.max;i++)u=Math.round(o.width*(i/p)),d=Math.round(o.width*((i+1)/p))-1,m="screen and (min-width: "+u+"px) and (max-width: "+d+"px )",s.call(y,m,r,i,u,d),a=!a||u<=a.min?f[f.length-1]:a,l=!l||d>=l.max?f[f.length-1]:l;s.call(y,"screen and (max-width: "+(a.min-1)+"px)",a.layout,a.fontsize,a.min,a.max),s.call(y,"screen and (min-width: "+(l.max+1)+"px)",l.layout,l.fontsize,l.min,l.max);for(var w in f)h=f[w],h.matches===!0&&c.call(y,h.layout,h.fontsize);return y}})});