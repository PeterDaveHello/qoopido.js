/*!
* Qoopido.js library v3.4.5, 2014-7-14
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e,t){t.register?t.register("polyfill/object/defineproperty",e):(t.modules=t.modules||{})["polyfill/object/defineproperty"]=e()}(function(){"use strict";if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty,t=Object.prototype.__defineGetter__,n=Object.prototype.__defineSetter__;Object.defineProperty=function(r,o,i){if(e)try{return e(r,o,i)}catch(l){}if(r!==Object(r))throw new TypeError("Object.defineProperty called on non-object");return t&&"get"in i&&t.call(r,o,i.get),n&&"set"in i&&n.call(r,o,i.set),"value"in i&&(r[o]=i.value),r}}return Object.defineProperty},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||n.push("./defineproperty"),t.register("polyfill/object/defineproperties",e,n)}else(t.modules=t.modules||{})["polyfill/object/defineproperties"]=e()}(function(){"use strict";return Object.defineProperties||(Object.defineProperties=function(e,t){if(e!==Object(e))throw new TypeError("Object.defineProperties called on non-object");var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.defineProperties},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var n=[];Object.defineProperties||n.push("./defineproperties"),t.register("polyfill/object/create",e,n)}else(t.modules=t.modules||{})["polyfill/object/create"]=e()}(function(){"use strict";return Object.create||(Object.create=function(e,t){function n(){}if("object"!=typeof e)throw new TypeError;n.prototype=e;var r=new n;if(e&&(r.constructor=n),arguments.length>1){if(t!==Object(t))throw new TypeError;Object.defineProperties(r,t)}return r}),Object.create},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertynames",e):(t.modules=t.modules||{})["polyfill/object/getownpropertynames"]=e()}(function(){"use strict";return Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Object.getOwnPropertyNames},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertydescriptor",e):(t.modules=t.modules||{})["polyfill/object/getownpropertydescriptor"]=e()}(function(){"use strict";if(!Object.getOwnPropertyDescriptor||!function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()){var e=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(t,n){if(t!==Object(t))throw new TypeError;try{return e.call(Object,t,n)}catch(r){}return Object.prototype.hasOwnProperty.call(t,n)?{value:t[n],enumerable:!0,writable:!0,configurable:!0}:void 0}}return Object.getOwnPropertyDescriptor},window.qoopido=window.qoopido||{}),function(e,t,n,r,o,i){"use strict";function l(e){for(var t;(t=e.replace(m,""))!==e;)e=t;return e.replace(g,"")}var u,s,c=t.qoopido||(t.qoopido={}),a=c.shared||(c.shared={}),p=c.modules||(c.modules={}),f=[],d=new RegExp("^\\.+\\/"),m=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),g=new RegExp("(^\\/)|\\.\\/","g");u=c.register=function(e,t,u,s){var c,f=e.split("/");return p[e]?p[e]:(c=function(){if(u)for(var c,m,g=f.slice(0,-1).join("/"),h=0;(c=u[h])!==i;h++)m=d.test(c),m&&(c=l(g+"/"+c)),!p[c]&&arguments[h]&&(p[c]=arguments[h]),m&&!p[c]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",c));return p[e]=t(p,a,f,n,r,o,i),s&&s(p[e]),p[e]},void("undefined"!=typeof module&&module.exports?module.exports=define(c):"function"==typeof define&&define.amd?u?define(u,c):define(c):c()))},s=c.registerSingleton=function(e,t,n){u(e,t,n,function(t){p[e]=t.create()})},Object.create||f.push("./polyfill/object/create"),Object.getOwnPropertyNames||f.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||f.push("./polyfill/object/getownpropertydescriptor"),u("base",e,f)}(function(e,t,n,r,o,i,l){"use strict";function u(e){for(var t,n={},r=Object.getOwnPropertyNames(e),o=0;(t=r[o])!==l;o++)n[t]=Object.getOwnPropertyDescriptor(e,t);return n}function s(){"undefined"!=typeof console&&console.error("[Qoopido.js] Operation prohibited on an actual instance")}return{create:function(){var e,t=Object.create(this,u(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=s,e||t},extend:function(e){return e=e||{},e._parent=this,Object.create(this,u(e))}}},this,navigator,window,document),function(e){window.qoopido.register("polyfill/window/getcomputedstyle",e)}(function(e,t,n,r,o){"use strict";if(o.getComputedStyle)return o.getComputedStyle;var i=new RegExp("(\\-([a-z]){1})","g"),l=function(){return arguments[2].toUpperCase()};return function(e){var t=this;return t.getPropertyValue=function(t){return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,l)),e.currentStyle[t]||null},t}}),function(e){window.qoopido.register("function/merge",e)}(function(e,t,n,r,o,i,l){"use strict";return function u(){var e,t,n,r,o,i=arguments[0];for(e=1;(t=arguments[e])!==l;e++)for(n in t)r=i[n],o=t[n],o!==l&&(null!==o&&"object"==typeof o?(r=o.length!==l?r&&"object"==typeof r&&r.length!==l?r:[]:r&&"object"==typeof r&&r.length===l?r:{},i[n]=u(r,o)):i[n]=o);return i}}),function(e){window.qoopido.register("function/unique/uuid",e)}(function(){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}var t={},n=new RegExp("[xy]","g");return function(){var n;do n=e();while("undefined"!=typeof t[n]);return t[n]=!0,n}}),function(e){var t=["../base","../function/unique/uuid","./event"];window.CustomEvent||t.push("../polyfill/window/customevent"),window.addEventListener||t.push("../polyfill/window/addeventlistener"),window.removeEventListener||t.push("../polyfill/window/removeeventlistener"),window.dispatchEvent||t.push("../polyfill/window/dispatchevent"),window.getComputedStyle||t.push("../polyfill/window/getcomputedstyle"),Element.prototype.matches||t.push("../polyfill/element/matches"),document.querySelector||t.push("../polyfill/document/queryselector"),document.querySelectorAll||t.push("../polyfill/document/queryselectorall"),window.qoopido.register("dom/element",e,t)}(function(e,t,n,r,o,i,l){"use strict";function u(e){var t;if("string"==typeof e)try{g.test(e)===!0?(t=e.replace(g,"$1").toLowerCase(),e=i.createElement(t)):e=i.querySelector(e)}catch(n){e=null}if(!e)throw new Error("Element could not be resolved");return e}function s(e,t,n){var r=this;e=new o.CustomEvent(e,{bubbles:"load"===e?!1:!0,cancelable:!0,detail:t}),n&&(e._quid=n,e.isDelegate=!0),r.element.dispatchEvent(e)}function c(e,t,n,r){var o=y[n];switch(e){case"get":return o&&o.getValue&&o.getValue(t)||f(t,null).getPropertyValue(n);case"set":o&&o.setValue&&o.setValue(t,r)||(t.style[n]=r)}}var a=(function(){if(i.documentMode)return i.documentMode;for(var e=7;e>0;e--){var t=i.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return e}return l}(),"object"),p="string",f=o.getComputedStyle||e["polyfill/window/getcomputedstyle"],d=e["function/unique/uuid"],m="textContent"in i.createElement("a")?"textContent":"innerText",g=new RegExp("^<(\\w+)\\s*/>$"),h=e["pool/module"]&&e["pool/module"].create(e["dom/event"])||null,v={elements:{},events:{}},y={opacity:{regex:new RegExp("alpha\\(opacity=(.*)\\)","i"),getValue:function(e){var t=f(e,null).getPropertyValue("filter").toString().match(this.regex);return t=t?t[1]/100:1},setValue:function(e,t){var n=e.style;n.zoom=1,n.opacity=t,n.filter="alpha(opacity="+(100*t+.5>>0)+")"}}};return e.base.extend({type:null,element:null,_listener:null,_constructor:function(e,t,n){var r,o=this;return o._listener={},e=u(e),r=e._quid||null,r&&v.elements[r]?v.elements[r]:(o.type=e.tagName,o.element=e,r=d(),e._quid=r,v.elements[r]=o,"object"==typeof t&&null!==t&&o.setAttributes(t),void("object"==typeof n&&null!==n&&o.setStyles(n)))},getContent:function(e){var t=this.element;return e&&e!==!1?t.innerHTML:t[m]},setContent:function(e,t){var n=this,r=n.element;return t&&t!==!1?r.innerHTML=e:r[m]=e,n},getAttribute:function(e){var t=this;return e&&typeof e===p?(e=e.split(" "),1===e.length?t.element.getAttribute(e[0]):t.getAttributes(e)):void 0},getAttributes:function(e){var t=this,n={};if(e&&(e=typeof e===p?e.split(" "):e,typeof e===a&&e.length))for(var r,o=0;(r=e[o])!==l;o++)n[r]=t.element.getAttributes(r);return n},setAttribute:function(e,t){var n=this;return e&&typeof e===p&&n.element.setAttribute(e,t),n},setAttributes:function(e){var t,n=this;if(e&&typeof e===a&&!e.length)for(t in e)n.element.setAttribute(t,e[t]);return n},removeAttribute:function(e){var t=this;return e&&typeof e===p&&(e=e.split(" "),1===e.length?t.element.removeAttribute(e[0]):t.removeAttributes(e)),t},removeAttributes:function(e){var t,n=this,r=0;if(e&&(e=typeof e===p?e.split(" "):e,typeof e===a&&e.length))for(;(t=e[r])!==l;r++)n.element.removeAttribute(t);return n},getStyle:function(e){var t=this;return e&&typeof e===p?(e=e.split(" "),1===e.length?c("get",t.element,e[0]):t.getStyles(e)):void 0},getStyles:function(e){var t,n=this,r={},o=0;if(e&&(e=typeof e===p?e.split(" "):e,typeof e===a&&e.length))for(;(t=e[o])!==l;o++)r[t]=c("get",n.element,t);return r},setStyle:function(e,t){var n=this;return e&&typeof e===p&&c("set",n.element,e,t),n},setStyles:function(e){var t,n=this;if(e&&typeof e===a&&!e.length)for(t in e)c("set",n.element,t,e[t]);return n},siblings:function(e){for(var t=this.element,n=t.parentNode.firstChild,r=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&(!e||n.matches(e))&&r.push(n);return r},siblingsBefore:function(e){for(var t=this.element.previousSibling,n=[];t;t=t.previousSibling)1===t.nodeType&&(!e||t.matches(e))&&n.push(t);return n},siblingsAfter:function(e){for(var t=this.element.nextSibling,n=[];t;t=t.nextSibling)1===t.nodeType&&(!e||t.matches(e))&&n.push(t);return n},previous:function(e){var t;if(!e)return this.element.previousSibling;for(t=this.element.previousSibling;t;t=t.previousSibling)if(1===t.nodeType&&t.matches(e))return t},next:function(e){var t;if(!e)return this.element.nextSibling;for(t=this.element.nextSibling;t;t=t.nextSibling)if(1===t.nodeType&&t.matches(e))return t},find:function(e){return this.element.querySelectorAll(e)},parent:function(e){var t;if(!e)return this.element.parentNode;for(t=this.element;t;t=t.parentNode)if(t.matches(e))return t},parents:function(e){for(var t=this.element.parentNode,n=[];t;t=t.parentNode){if(9===t.nodeType)return n;1===t.nodeType&&(!e||t.matches(e))&&n.push(t)}},isVisible:function(){var e=this.element;return!(e.offsetWidth<=0&&e.offsetHeight<=0)},hasClass:function(e){return new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(this.element.className)},addClass:function(e){var t,n=this;return n.hasClass(e)||(t=n.element.className.split(" "),t.push(e),n.element.className=t.join(" ")),n},removeClass:function(e){var t=this;return t.hasClass(e)&&(t.element.className=t.element.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"))),t},toggleClass:function(e){var t=this;return t.hasClass(e)?t.removeClass(e):t.addClass(e),t},prepend:function(e){var t=this,n=t.element;return e=e.element||u(e),n.firstChild?n.insertBefore(e,n.firstChild):t.append(e),t},append:function(e){var t=this;return t.element.appendChild(e.element||u(e)),t},replaceWith:function(e){var t=this,n=t.element;return e=e.element||u(e),n.parentNode.replaceChild(e,n),t},prependTo:function(e){var t=this,n=t.element;return(e=e.element||u(e)).firstChild?e.insertBefore(n,e.firstChild):t.appendTo(e),t},appendTo:function(e){var t=this;return(e.element||u(e)).appendChild(t.element),t},insertBefore:function(e){var t=this,n=t.element;return(e=e.element||u(e)).parentNode.insertBefore(n,e),t},insertAfter:function(e){var t=this,n=t.element;return(e=e.element||u(e)).nextSibling?e.parentNode.insertBefore(n,e.nextSibling):t.appendTo(e.parentNode),t},replace:function(e){var t=this,n=t.element;return(e=e.element||u(e)).parentNode.replaceChild(n,e),t},remove:function(){var e=this,t=e.element;return t.parentNode.removeChild(t),e},on:function(t){var n,r=this,i=r.element,u=arguments.length>2?arguments[1]:null,c=arguments.length>2?arguments[2]:arguments[1],a=c._quid||(c._quid=d()),p=0;for(t=t.split(" ");(n=t[p])!==l;p++){var f=n+"-"+a,m=function(t){var n,i=t._quid||(t._quid=d());v.events[i]||(v.events[i]=h&&h.obtain(t)||e["dom/event"].create(t)),t=v.events[i],n=t.delegate,o.clearTimeout(t._timeout),(!u||t.target.matches(u))&&c.call(r,t,t.originalEvent.detail),n&&(delete t.delegate,s.call(r,n,null,t._quid)),t._timeout=o.setTimeout(function(){delete v.events[i],delete t._timeout,t.dispose&&t.dispose()},5e3)};m.type=n,r._listener[f]=m,i.addEventListener(n,m)}return r},one:function(e){var t=this,n=arguments.length>3||"string"==typeof arguments[1]?arguments[1]:null,r=arguments.length>3||"function"==typeof arguments[2]?arguments[2]:arguments[1],o=(arguments.length>3?arguments[3]:arguments[2])!==!1,i=function(n){t.off(o===!0?n.type:e,i),r.call(t,n,n.originalEvent.detail)};return r._quid=i._quid=d(),n?t.on(e,n,i):t.on(e,i),t},off:function(e,t){var n,r,o,i=this,u=i.element,s=0;for(e=e.split(" ");(n=e[s])!==l;s++)r=t._quid&&n+"-"+t._quid||null,o=r&&i._listener[r]||null,o?(u.removeEventListener(n,o),delete i._listener[r]):u.removeEventListener(n,t);return i},emit:function(e,t){var n=this;return s.call(n,e,t),n}})}),function(e){window.qoopido.register("dom/element/emerge",e,["../element","../../function/merge","../../function/unique/uuid"])}(function(e,t,n,r,o,i,l){"use strict";function u(e){var t,n=v[e];for(t in n)"length"!==t&&a.call(n[t]);0===n.length&&(o.element.clearInterval(h[e]),delete h[e])}function s(){g.left=0,g.top=0,g.right=m.clientWidth,g.bottom=m.clientHeight}function c(){var e=this,t=e._settings.threshold||m.clientWidth*e._settings.auto,n=e._settings.threshold||m.clientHeight*e._settings.auto;e._viewport.left=g.left-t,e._viewport.top=g.top-n,e._viewport.right=g.right+t,e._viewport.bottom=g.bottom+n}function a(){var e,t=this,n=!1,r=2;!t.isVisible()||"hidden"===t.getStyle("visibility")&&t._settings.visibility!==!1||(e=t.element.getBoundingClientRect(),(e.left>=t._viewport.left&&e.top>=t._viewport.top&&e.left<=t._viewport.right&&e.top<=t._viewport.bottom||e.right>=t._viewport.left&&e.bottom>=t._viewport.top&&e.right<=t._viewport.right&&e.bottom<=t._viewport.bottom)&&((e.left>=g.left&&e.top>=g.top&&e.left<=g.right&&e.top<=g.bottom||e.right>=g.left&&e.bottom>=g.top&&e.right<=g.right&&e.bottom<=g.bottom)&&(r=1),n=!0)),(n!==t._state||n===!0&&r!==t._priority)&&p.call(t,n,r)}function p(e,t){var n=this;n._state=e,n._priority=t,n._settings.recur!==!0&&n.remove(),e===!0?n.emit(y,t):n.emit(b)}var f,d={interval:50,threshold:"auto",recur:!0,auto:.5,visibility:!0},m=o.document.documentElement,g={},h={},v={},y="emerged",b="demerged",w="resize orientationchange";if(o=e["dom/element"].create(o),"CSS1Compat"!==i.compatMode)throw"This script requires your browser to work in standards mode";return f=e["dom/element"].extend({_quid:null,_viewport:null,_element:null,_settings:null,_state:null,_priority:null,_constructor:function(t,n){var r=this;f._parent._constructor.call(r,t),n=e["function/merge"]({},d,n||{}),"auto"===n.threshold&&delete n.threshold,h[n.interval]===l&&(v[n.interval]=v[n.interval]||{length:0},h[n.interval]=o.element.setInterval(function(){u(n.interval)},n.interval)),r._quid=e["function/unique/uuid"](),r._viewport={},r._settings=n,r._state=!1,r._priority=2,v[n.interval][r._quid]=r,v[n.interval].length++,o.on(w,function(){c.call(r)}),c.call(r)},remove:function(){var e=this;delete v[e._settings.interval][e._quid],v[e._settings.interval].length--}}),o.on(w,s),s(),f}),function(e){window.qoopido.register("dom/element/lazyimage",e,["./emerge","../../function/merge"])}(function(e){"use strict";function t(){var e=this,t=e._settings.attribute;o+=1,e.emit(i).one(p,function(t){e.emit(t.type===c?l:u),o-=1},!1).setAttribute("src",e.getAttribute(t)).removeAttribute(t)}var n,r={interval:50,threshold:"auto",attribute:"data-lazyimage"},o=0,i="requested",l="loaded",u="failed",s="emerged",c="load",a="error",p="".concat(c," ",a);return n=e["dom/element/emerge"].extend({_constructor:function(i,l){var u=this;n._parent._constructor.call(u,i,e["function/merge"]({},r,l||{})),u.on(s,function c(e){(0===o||1===e.data)&&(u.remove(),u.off(s,c),t.call(u))})}})});