(function(t,e){"use strict";function n(){return e.qoopido.initialize("dom/element",t,arguments)}if("function"==typeof define&&define.amd){var i=["../base","../proxy"];e.getComputedStyle||i.push("../polyfill/window/getcomputedstyle"),define(i,n)}else n()})(function(t,e,n,i,r,o){"use strict";function a(t){return t.target=t.target||t.srcElement,t.offsetX=t.offsetX||t.layerX,t.offsetY=t.offsetY||t.layerY,t.relatedTarget=t.relatedTarget||"mouseover"===t.type?t.fromElement:t.toElement,t.target=t.target||t.srcElement,3===t.target.nodeType&&(t.target=t.target.parentNode),t}var s,l,u,f="object",c="string";return s=i.addEventListener?function(t,e){var n=this,i=n.element,r="".concat("listener[",t,"][",e._quid||e,"]");i[r]=function(t){e.call(this,a(t))},i.addEventListener(t,i[r],!1)}:function(t,e){var n=this,r=n.element,o="".concat("listener[",t,"][",e._quid||e,"]");r[o]=function(){e.call(this,a(i.event))},r.attachEvent("on"+t,r[o])},l=i.removeEventListener?function(t,e){var n=this,i=n.element,r="".concat("listener[",t,"][",e._quid||e,"]");i.removeEventListener(t,i[r],!1),delete i[r]}:function(t,e){var n=this,i=n.element,r="".concat("listener[",t,"][",e._quid||e,"]");i.detachEvent("on"+t,i[r]),delete i[r]},u=r.createEvent?function(t,e){var n=this,i=n.element,o=r.createEvent("HTMLEvents");o.initEvent(t,!0,!0),o.data=e,i.dispatchEvent(o)}:function(t,e){var n=this,i=n.element,o=r.createEventObject();o.eventType=t,o.data=e,i.fireEvent("on"+o.eventType,o)},t.base.extend({type:null,element:null,listener:null,_constructor:function(t){var e=this;if(!t)throw Error("Missing element argument");e.type=t.tagName,e.element=t,e.listener={}},getAttribute:function(t){if(t&&typeof t===c){var e=this;return t=t.split(" "),1===t.length?e.element.getAttribute(t[0]):e.getAttributes(t)}},getAttributes:function(t){var e=this,n={};if(t&&(t=typeof t===c?t.split(" "):t,typeof t===f&&t.length)){var i,r;for(i=0;(r=t[i])!==o;i++)n[r]=e.element.getAttributes(r)}return n},setAttribute:function(t,e){var n=this;return t&&typeof t===c&&n.element.setAttribute(t,e),n},setAttributes:function(t){var e=this;if(t&&typeof t===f&&!t.length){var n;for(n in t)e.element.setAttribute(n,t[n])}return e},removeAttribute:function(t){var e=this;return t&&typeof t===c&&(t=t.split(" "),1===t.length?e.element.removeAttribute(t[0]):e.removeAttributes(t)),e},removeAttributes:function(t){var e=this;if(t&&(t=typeof t===c?t.split(" "):t,typeof t===f&&t.length)){var n,i;for(n=0;(i=t[n])!==o;n++)e.element.removeAttribute(i)}return e},getStyle:function(t){if(t&&typeof t===c){var e=this;return t=t.split(" "),1===t.length?i.getComputedStyle(e.element,null).getPropertyValue(t[0]):e.getStyles(t)}},getStyles:function(t){var e=this,n={};if(t&&(t=typeof t===c?t.split(" "):t,typeof t===f&&t.length)){var r,a;for(r=0;(a=t[r])!==o;r++)n[a]=i.getComputedStyle(e.element,null).getPropertyValue(a)}return n},setStyle:function(t,e){var n=this;return t&&typeof t===c&&(n.element.style[t]=e),n},setStyles:function(t){var e=this;if(t&&typeof t===f&&!t.length){var n;for(n in t)e.element.style[n]=t[n]}return e},isVisible:function(){var t=this.element;return!(0>=t.offsetWidth&&0>=t.offsetHeight)},on:function(t,e){var n,i,r=this;for(t=t.split(" "),n=0;(i=t[n])!==o;n++)(r.listener[i]=r.listener[i]||[]).push(e),s.call(r,i,e);return r},one:function(e,n,i){i=i!==!1;var r=this,o=t.proxy.create(r,function(t){r.off(i===!0?t.type:e,o),n.call(r,t)});return r.on(e,o),r},off:function(t,e){var n,i,r,a,s=this;if(t)for(t=t.split(" "),n=0;(i=t[n])!==o;n++)if(s.listener[i]=s.listener[i]||[],e)for(r=0;(a=s.listener[i][r])!==o;r++)a===e&&(s.listener[i].splice(r,1),l.call(s,i,a),r--);else for(;s.listener[i].length>0;)l.call(s,i,s.listener[i].pop());else for(i in s.listener)for(;s.listener[i].length>0;)l.call(s,i,s.listener[i].pop());return s},emit:function(t,e){var n=this;return u.call(n,t,e),n}})},window);