/*!
* Qoopido.js library v3.4.5, 2014-7-12
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e){window.qoopido.register("dom/event",e,["../base"])}(function(e,t,r,o,i,n,a){"use strict";var p={general:{properties:"type altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" ")},mouse:{regex:new RegExp("^(?:mouse|pointer|contextmenu)|click"),properties:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement relatedTarget which".split(" "),filter:function(){var e,t=this,r=t.originalEvent,o=r.fromElement,i=r.button;null==t.pageX&&null!=r.clientX&&(e=event.target.ownerDocument||n,e=e.documentElement||e.body,t.pageX=r.clientX+(e.scrollLeft||0)-(e.clientLeft||0),t.pageY=r.clientY+(e.scrollTop||0)-(e.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?r.toElement:o),t.which||i===a||(t.which=1&i?1:2&i?3:4&i?2:0)}},key:{regex:new RegExp("^key"),properties:"char charCode key keyCode which".split(" "),filter:function(){var e=this,t=e.originalEvent;null===e.which&&(e.which=null!==t.charCode?t.charCode:t.keyCode)}}};return e.base.extend({originalEvent:null,isDelegate:!1,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,_properties:[],_constructor:function(e){var t,r,o,i,l,s,c=this,g=[],u=0;t=e.type;for(r in p)o=p[r],i=o.delegate,(!o.regex||o.regex&&o.regex.test(t))&&(o.properties&&(c._properties=c._properties.concat(o.properties)),o.filter&&g.push(o.filter)),i&&(c.delegate=i);for(;(l=c._properties[u])!==a;u++)c[l]=e[l];for(c.target||(c.target=e.srcElement||n),3===c.target.nodeType&&(c.target=c.target.parentNode),c.originalEvent=e,c.metaKey=e.metaKey&&e.metaKey!==!1?!0:!1,u=0;(s=g[u])!==a;u++)s.call(c)},_obtain:function(e){this._constructor(e)},_dispose:function(){for(var e,t=this,r=0;(e=t._properties[r])!==a;r++)delete t[e];delete t.delegate,t.originalEvent=null,t.isDelegate=!1,t.isDefaultPrevented=!1,t.isPropagationStopped=!1,t.isImmediatePropagationStopped=!1,t._properties.length=0},preventDefault:function(){var e=this,t=e.originalEvent;t.cancelable!==!1&&(e.isDefaultPrevented=!0,t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var e=this,t=e.originalEvent;e.isPropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},stopImmediatePropagation:function(){var e=this,t=e.originalEvent;e.isImmediatePropagationStopped=!0,t.stopImmediatePropagation&&t.stopImmediatePropagation(),e.stopPropagation()}})});