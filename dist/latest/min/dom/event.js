/*!
* Qoopido.js library v3.4.5, 2014-7-8
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e){window.qoopido.register("dom/event",e,["../base"])}(function(e,t,r,a,n,o,i){"use strict";var l={general:{properties:"type altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" ")},mouse:{regex:new RegExp("^(?:mouse|pointer|contextmenu)|click"),properties:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(){var e,t=this,r=t.originalEvent,a=r.fromElement,n=r.button;null==t.pageX&&null!=r.clientX&&(e=event.target.ownerDocument||o,e=e.documentElement||e.body,t.pageX=r.clientX+(e.scrollLeft||0)-(e.clientLeft||0),t.pageY=r.clientY+(e.scrollTop||0)-(e.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?r.toElement:a),t.which||n===i||(t.which=1&n?1:2&n?3:4&n?2:0)}},key:{regex:new RegExp("^key"),properties:"char charCode key keyCode".split(" "),filter:function(){var e=this,t=e.originalEvent;null===e.which&&(e.which=null!==t.charCode?t.charCode:t.keyCode)}}};return e.base.extend({isDelegate:!1,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,_constructor:function(e){var t,r,a,n,p,s,c=this,g=[],u=[],m=0;t=e.type;for(r in l)a=l[r],n=a.delegate,(!a.regex||a.regex&&a.regex.test(t))&&(a.properties&&(g=g.concat(a.properties)),a.filter&&u.push(a.filter)),n&&(c.delegate=n);for(;(p=g[m])!==i;m++)c[p]=e[p];for(c.originalEvent=e,c.target||(c.target=e.srcElement||o),3===c.target.nodeType&&(c.target=c.target.parentNode),c.metaKey=e.metaKey&&e.metaKey!==!1?!0:!1,m=0;(s=u[m])!==i;m++)s.call(c)},preventDefault:function(){var e=this,t=e.originalEvent;t.cancelable!==!1&&(e.isDefaultPrevented=!0,t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var e=this,t=e.originalEvent;e.isPropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},stopImmediatePropagation:function(){var e=this,t=e.originalEvent;e.isImmediatePropagationStopped=!0,t.stopImmediatePropagation&&t.stopImmediatePropagation(),e.stopPropagation()}})});