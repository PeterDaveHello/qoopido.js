(function(e,t){"use strict";function n(){return t.qoopido.shared.module.initialize("transport/jsonp",e,!0)}"function"==typeof define&&define.amd?define(["../transport","../function/merge","../url","../unique","q"],n):n()})(function(e,t,n,r){"use strict";function i(e,t){var r=this,i=r.dfd,s=r.script,a=r.settings;t="object"==typeof t?r.serialize(t):t,e="".concat(e,e.indexOf("?")>-1?"&":"?","".concat(a.callback,"=",r.id)),e=a.cache===!1?"".concat(e,e.indexOf("?")>-1?"&":"?","".concat("_=",""+(new Date).getTime())):e,e=t?"".concat(e,e.indexOf("?")>-1?"&":"?",t):e,n[r.id]=function(e){i.resolve(e);try{delete n[r.id]}catch(t){n[r.id]=null}},s.onload=s.onreadystatechange=function(e){o.call(r,e)},s.onerror=function(){u.call(r)},s.setAttribute("src",e),f.appendChild(s)}function o(e){var t=this,n=t.dfd;e.readyState&&"loaded"!==e.readyState&&"complete"!==e.readyState||(a.call(t),t.timeout=setTimeout(function(){s.call(t)},t.settings.timeout)),n.notify(e)}function u(){var e=this;a.call(e),e.dfd.reject()}function s(){this.dfd.reject()}function a(){var e=this.script;e.onload=e.onreadystatechange=e.onerror=null,e.parentNode.removeChild(e)}var c,l=n.Q,f=r.getElementsByTagName("head")[0];return c=e.transport.extend({_settings:{callback:"callback",cache:!1,timeout:200},load:function(t,n,o){var u={};return t=e.url.resolve(t),u.id="".concat("jsonp-",e.unique.string()),u.dfd=l.defer(),u.script=r.createElement("script"),u.settings=e.function.merge({},this._settings,o),u.timeout=null,u.script.setAttribute("async",!0),i.call(u,t,n),u.dfd.promise}})},window,document);