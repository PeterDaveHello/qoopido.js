(function(e,t){"use strict";function n(){return t.qoopido.shared.module.initialize("component/remux",e,arguments,!0)}"function"==typeof define&&define.amd?define(["../emitter"],n):n()})(function(e,t,n,r,o){"use strict";function i(){var e=this;return l.fontsize=parseInt(r.getComputedStyle(c).getPropertyValue("font-size"),10),l.layout=r.getComputedStyle(c,":after").getPropertyValue("content")||null,(l.fontsize!==f.fontsize||l.layout!==f.layout)&&(f.fontsize=l.fontsize,f.layout=l.layout,l.ratio.device=r.devicePixelRatio||1,l.ratio.fontsize=l.fontsize/s,l.ratio.total=l.ratio.device*l.ratio.fontsize,e.emit("statechange",l)),e}var a,u,c=o.getElementsByTagName("html")[0],s=16,l={fontsize:null,layout:null,ratio:{}},f={fontsize:null,layout:null},p=null;return a=e.emitter.extend({_constructor:function(){var e=this,t=parseInt(c.getAttribute("data-base"),10),n=function n(){null!==p&&r.clearTimeout(p),p=r.setTimeout(function(){i.call(e)},20)};a._parent._constructor.call(e),isNaN(t)===!1&&(s=t),u=o.createElement("style"),u.type="text/css",o.getElementsByTagName("head")[0].appendChild(u),r.addEventListener("resize",n,!1),r.addEventListener("orientationchange",n,!1),i.call(e)},getState:function(){return l},addLayout:function(e,t){var n,r,i,a,c,l,f=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(r in n)for(i=n[r],a=i.min;i.max>=a;a++)c=Math.round(i.width*(a/s)),l="@media screen and (min-width: "+c+"px) { html { font-size: "+a+'px; } html:after { content: "'+r+'"; display: none; } }',u.styleSheet?u.styleSheet.cssText+=l:u.appendChild(o.createTextNode(l));return f.updateState(),f}})},window);