(function(t,e){"use strict";function n(){return e.qoopido.initialize("component/remux",t,arguments,!0)}"function"==typeof define&&define.amd?define(["../emitter"],n):n()})(function(t,e,n,i,a){"use strict";function r(){var t=this;return c.fontsize=parseInt(i.getComputedStyle(u).getPropertyValue("font-size"),10),c.layout=i.getComputedStyle(u,":after").getPropertyValue("content")||null,(c.fontsize!==f.fontsize||c.layout!==f.layout)&&(f.fontsize=c.fontsize,f.layout=c.layout,c.ratio.device=i.devicePixelRatio||1,c.ratio.fontsize=c.fontsize/l,c.ratio.total=c.ratio.device*c.ratio.fontsize,t.emit("statechange",c)),t}var s,o,u=a.getElementsByTagName("html")[0],l=16,c={fontsize:null,layout:null,ratio:{}},f={fontsize:null,layout:null},d=null;return s=t.emitter.extend({_constructor:function(){var t=this,e=parseInt(u.getAttribute("data-base"),10),n=function n(){null!==d&&i.clearTimeout(d),d=i.setTimeout(function(){r.call(t)},20)};s._parent._constructor.call(t),isNaN(e)===!1&&(l=e),o=a.createElement("style"),o.type="text/css",a.getElementsByTagName("head")[0].appendChild(o),i.addEventListener("resize",n,!1),i.addEventListener("orientationchange",n,!1),r.call(t)},getState:function(){return c},addLayout:function(t,e){var n,i,r,s,u,c,f=this;arguments.length>1?(n={},n[t]=e):n=arguments[0];for(i in n)for(r=n[i],s=r.min;r.max>=s;s++)u=Math.round(r.width*(s/l)),c="@media screen and (min-width: "+u+"px) { html { font-size: "+s+'px; } html:after { content: "'+i+'"; display: none; } }',o.styleSheet?o.styleSheet.cssText+=c:o.appendChild(a.createTextNode(c));return f.updateState(),f}})},window);