/*!
* Qoopido.js library v3.4.5, 2014-7-7
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e){var t=["../function/unique/uuid"];window.CustomEvent||t.push("../polyfill/window/customevent"),window.addEventListener||t.push("../polyfill/window/addeventlistener"),window.removeEventListener||t.push("../polyfill/window/removeeventlistener"),window.dispatchEvent||t.push("../polyfill/window/dispatchevent"),window.getComputedStyle||t.push("../polyfill/window/getcomputedstyle"),Element.prototype.matches||t.push("../polyfill/element/matches"),document.querySelector||t.push("../polyfill/document/queryselector"),document.querySelectorAll||t.push("../polyfill/document/queryselectorall"),window.qoopido.register("dom/element",e,t)}(function(e,t,n,r,i,l,o){"use strict";function s(e){var t=Object.create(e);return t.originalEvent=e,t.type=e.type,t.preventDefault=function(){e.cancelable!==!1&&(e.returnValue=!1,e.preventDefault())},t.stopPropagation=function(){e.cancelBubble=!0,e.stopPropagation()},t.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0,e.stopImmediatePropagation()},t.target||(t.target=t.srcElement||l),3===t.target.nodeType&&(t.target=t.target.parentNode),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t}function u(e,t){this.element.dispatchEvent(new i.CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}))}function a(e){if("string"==typeof e)try{e=d.test(e)===!0?l.createElement(e.replace(d,"$1").toLowerCase()):l.querySelector(e)}catch(t){e=null}if(!e)throw new Error("Element could not be resolved");return e}var f="object",p="string",m=i.getComputedStyle||e["polyfill/window/getcomputedstyle"],c=e["function/unique/uuid"],h="textContent"in l.createElement("a")?"textContent":"innerText",d=new RegExp("^<(\\w+)\\s*/>$"),v={};return e.base.extend({type:null,element:null,listener:{},_constructor:function(e,t,n){var r=this,i=e.quid||null;return e=a(e),i&&v[i]?v[i]:(r.type=e.tagName,r.element=e,i=c(),e.quid=i,v[i]=r,"object"==typeof t&&null!==t&&r.setAttributes(t),void("object"==typeof n&&null!==n&&r.setStyles(n)))},getContent:function(e){var t=this.element;return e&&e!==!1?t.innerHTML:t[h]},setContent:function(e,t){var n=this,r=n.element;return t&&t!==!1?r.innerHTML=e:r[h]=e,n},getAttribute:function(e){if(e&&typeof e===p){var t=this;return e=e.split(" "),1===e.length?t.element.getAttribute(e[0]):t.getAttributes(e)}},getAttributes:function(e){var t=this,n={};if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length))for(var r,i=0;(r=e[i])!==o;i++)n[r]=t.element.getAttributes(r);return n},setAttribute:function(e,t){var n=this;return e&&typeof e===p&&n.element.setAttribute(e,t),n},setAttributes:function(e){var t=this;if(e&&typeof e===f&&!e.length){var n;for(n in e)t.element.setAttribute(n,e[n])}return t},removeAttribute:function(e){var t=this;return e&&typeof e===p&&(e=e.split(" "),1===e.length?t.element.removeAttribute(e[0]):t.removeAttributes(e)),t},removeAttributes:function(e){var t=this;if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length))for(var n,r=0;(n=e[r])!==o;r++)t.element.removeAttribute(n);return t},getStyle:function(e){if(e&&typeof e===p){var t=this;return e=e.split(" "),1===e.length?m(t.element,null).getPropertyValue(e[0]):t.getStyles(e)}},getStyles:function(e){var t=this,n={};if(e&&(e=typeof e===p?e.split(" "):e,typeof e===f&&e.length)){var r,i=0;for(0;(r=e[i])!==o;i++)n[r]=m(t.element,null).getPropertyValue(r)}return n},setStyle:function(e,t){var n=this;return e&&typeof e===p&&(n.element.style[e]=t),n},setStyles:function(e){var t=this;if(e&&typeof e===f&&!e.length){var n;for(n in e)t.element.style[n]=e[n]}return t},siblings:function(e){for(var t=this.element,n=t.parentNode.firstChild,r=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&(!e||n.matches(e))&&r.push(n);return r},siblingsBefore:function(e){for(var t=this.element.previousSibling,n=[];t;t=t.previousSibling)1===t.nodeType&&(!e||t.matches(e))&&n.push(t);return n},siblingsAfter:function(e){for(var t=this.element.nextSibling,n=[];t;t=t.nextSibling)1===t.nodeType&&(!e||t.matches(e))&&n.push(t);return n},previous:function(e){var t;if(!e)return this.element.previousSibling;for(t=this.element.previousSibling;t;t=t.previousSibling)if(1===t.nodeType&&t.matches(e))return t},next:function(e){var t;if(!e)return this.element.nextSibling;for(t=this.element.nextSibling;t;t=t.nextSibling)if(1===t.nodeType&&t.matches(e))return t},find:function(e){return this.element.querySelectorAll(e)},parent:function(e){var t;if(!e)return this.element.parentNode;for(t=this.element;t;t=t.parentNode)if(t.matches(e))return t},parents:function(e){for(var t=this.element.parentNode,n=[];t;t=t.parentNode){if(9===t.nodeType)return n;1===t.nodeType&&(!e||t.matches(e))&&n.push(t)}},isVisible:function(){var e=this.element;return!(e.offsetWidth<=0&&e.offsetHeight<=0)},hasClass:function(e){return new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(this.element.className)},addClass:function(e){var t,n=this;return n.hasClass(e)||(t=n.element.className.split(" "),t.push(e),n.element.className=t.join(" ")),n},removeClass:function(e){var t=this;return t.hasClass(e)&&(t.element.className=t.element.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"))),t},toggleClass:function(e){var t=this;return t.hasClass(e)?t.removeClass(e):t.addClass(e),t},prepend:function(e){var t=this,n=t.element;return e=e.element||a(e),n.firstChild?n.insertBefore(e,n.firstChild):t.append(e),t},append:function(e){var t=this;return t.element.appendChild(e.element||a(e)),t},replaceWith:function(e){var t=this,n=t.element;return e=e.element||a(e),n.parentNode.replaceChild(e,n),t},prependTo:function(e){var t=this,n=t.element;return(e=e.element||a(e)).firstChild?e.insertBefore(n,e.firstChild):t.appendTo(e),t},appendTo:function(e){var t=this;return(e.element||a(e)).appendChild(t.element),t},insertBefore:function(e){var t=this,n=t.element;return(e=e.element||a(e)).parentNode.insertBefore(n,e),t},insertAfter:function(e){var t=this,n=t.element;return(e=e.element||a(e)).nextSibling?e.parentNode.insertBefore(n,e.nextSibling):t.appendTo(e.parentNode),t},replace:function(e){var t=this,n=t.element;return(e=e.element||a(e)).parentNode.replaceChild(n,e),t},remove:function(){var e=this,t=e.element;return t.parentNode.removeChild(t),e},on:function(e){var t,n=this,r=n.element,i=arguments.length>2?arguments[1]:null,l=arguments.length>2?arguments[2]:arguments[1],u=l.quid||(l.quid=c()),a=0;for(e=e.split(" ");(t=e[a])!==o;a++){var f=t+"-"+u,p=n.listener[f]||(n.listener[f]=[]),m=function(e){e=s(e),(!i||e.target.matches(i))&&l.call(n,e)};p.push(m),r.addEventListener(t,m)}return n},one:function(e){var t=this,n=arguments.length>2?arguments[1]:null,r=arguments.length>2?arguments[2]:arguments[1],i=(arguments.length>2?arguments[3]:arguments[2])!==!1,l=function(n){t.off(i===!0?n.type:e,l),r.call(t,n)};return r.quid=l.quid=c(),n?t.on(e,n,l):t.on(e,l),t},off:function(e,t){var n,r,i=this,l=i.element,s=0,u=0;for(e=e.split(" ");(n=e[s])!==o;s++){var a=t.quid&&n+"-"+t.quid||null,f=a&&i.listener[a]||null;if(f){for(;(r=f[u])!==o;u++)l.removeEventListener(n,r);delete i.listener[a]}else l.removeEventListener(n,t)}return i},emit:function(e,t){var n=this;return u.call(n,e,t),n}})});